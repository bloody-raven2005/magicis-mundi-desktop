<!DOCTYPE html>
<html>
	
    <head>
        <meta charset="utf-8" />
        <title>Game</title>
		
		<link rel="stylesheet" href="files/assets/game-style.css">
		<!--link rel="stylesheet" href="files/assets/menu-style.css"-->
    </head>
	
    <body>
	    <div id="menu-box">
		    <div id="font-box"></div>
			
			<div id="logo-box">Magicis Mundi</div>
			
			<div id="buttons-box">
			    <div class="menu-button" id="button-play">play</div>
				<div class="menu-button" id="button-settings">settings</div>
			</div>
			
		    <div id="version-box">loading version</div>
		</div>
	   
	    <div id="scene-box">
		    <canvas id="scene"></canvas>
		    <!--a id="version" align="left"></a><br>
		    <a id="coordinates" align="left"></a>
		    <a id="biome" align="left"></a-->

            <div id="joyDiv"></div>

		    <!--canvas id="minimap"></canvas-->
			
			<!--button id="pause" height="64px" width="64px" onclick="changePause()"> 
		        <img src="files/assets/sprites/ui/pause.png" alt="pause" style="vertical-align: middle">
		    </button>
			
			<label id="mods_loader">
                <input type="file" onchange="loadMod(this.files[0])">
                    Load a Mod 
            </label-->
			
			<div id="message-box">
			    <div id="message">
				    <a id="message-text">Undefined</a>
					<input id="message-prompt" type="text"></input>
					<button id="message-confirm">OK</button>
					<button id="message-cancel">CANCEL</button>
				</div>
			</div>
			
		</div>
		
		<!--script src="files/assets/structures/ship.mmstr"></script-->
		
		<script src='files/base/util/Random.js'></script>
		<script src='files/libs/Joy.js'></script>
		<script src='files/libs/Noise.js'></script>
		<!--script src='util/generator.js'></script-->
		
		<script src='files/base/graphics/ui/Interface.js'></script>
		<script src='files/base/graphics/ui/Message.js'></script>
		<script src='files/base/graphics/ui/Inventory.js'></script>
		
		
		<script src='files/world/Block.js'></script>
		<script src='files/world/blocks/Floor.js'></script>
		<script src='files/world/blocks/Overlay.js'></script>
		<script src='files/world/blocks/HeightChangeBlock.js'></script>
		
		<script src='files/world/Entity.js'></script>
		<script src='files/world/entities/Player.js'></script>
		<script src='files/world/entities/MagicSphere.js'></script>
		
		<script src='files/world/Spell.js'></script>
		
		
		<script src='files/content/Blocks.js'></script>
		<script src='files/content/Entities.js'></script>
		<script src='files/content/Spells.js'></script>
		<!--script src='content/structures.js'></script-->
		
		
		<script src="files/base/graphics/Graphics.js"></script>
		<script src="files/base/graphics/Camera.js"></script>
		<script src="files/base/graphics/Draw.js"></script>
		<script src="files/base/graphics/DrawLight.js"></script>
		<script src="files/base/graphics/TextureLoader.js"></script>
		
		<!--script src='/base/input/mods.js'></script-->
		<script src="files/base/input/Controls.js"></script>
		

		
		<script src="files/map/Tiles.js"></script>
		<script src="files/map/EntitiesSet.js"></script>
		<script src="files/map/Dimension.js"></script>
		<script src="files/map/World.js"></script>
		<script src="files/map/Map.js"></script>
				
		<script src="files/map/generators/BaseGenerator.js"></script>
		<script src="files/map/generators/BasicGenerator.js"></script>
		<script src="files/map/generators/CaveGenerator.js"></script>
		<script src="files/map/generators/OpenWorldGenerator.js"></script>
		
		<script src="files/map/generators/TestWorldGenerator.js"></script>
		
		
		<script src="files/Vars.js"></script>
		<script src="files/base/Core.js"></script>
		
		<!--script src="base/Connection.js"></script-->

		<script>
			Message.hide();
			
			document.getElementById('button-play').onclick = function(){
                                document.getElementById('menu-box').style.visibility = 'hidden';
				document.getElementById('scene').style.filter = 'none';
								
				Vars.changeable.pause = false;
			};
			
			document.addEventListener('keydown', function(e){
			        if(e.key != 'Escape')
				        return;
						
				document.getElementById('menu-box').style.visibility = 'visible';
				document.getElementById('scene').style.filter = 'blur(3px)';
				
				Vars.changeable.pause = true;
			});
			
			window.onload = function(){
				document.getElementById('version-box').innerHTML = Vars.version.name;
			};
			
			document.getElementById('button-pause').onclick = function(){
			        document.getElementById('menu-box').style.visibility = 'visible';
				document.getElementById('scene').style.filter = 'blur(3px)';
				
				Vars.changeable.pause = true;
		        };
			
			/*function save(){
			        let blob = new Blob(["Прив!"], {type: "text/plain;charset=utf-8"});
                                saveAs(blob, "hello world.txt");
			}*/
		</script>
    </body>
	
</html>
